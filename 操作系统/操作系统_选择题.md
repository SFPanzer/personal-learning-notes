# 响应比

$$
\begin{align}
响应比 
&= \frac{等待时间 + 要求服务时间}{要求服务时间} \\
&= 1 + \frac{等待时间}{要求服务时间}
\end{align}
$$

# 调度算法

- 可能饥饿的调度算法
    - 最短作业优先调度算法
    - 最高优先级调度算法

- 不会饥饿的调度算法
    - 先来先服务调度算法
    - 高响应比优先调度算法
    - 时间片轮转调度算法
    - 多级反馈队列调度算法

# 死锁临界进程数问题

某系统中有13台打印机，n个进程共享打印机资源，每个进程要求获得4台打印机，当n的取值不超过（   ）时，系统不会发生死锁。

答：

- 考虑最坏情况，首先给所有进程分配三台打印机，此时如果还剩最后一台打印机，则所有进程均可依次完成任务。
- 即：3n+1=13, n=4

# 信号值与PV操作

- 信号值：表示当前空闲n个资源
- P: 在进入临界区之前执行，把信号值减1
- V：在离开临界区之后执行，把信号值加1

# 页面置换算法

- 先进先出置换算法（FIFO）
    - 思路：每次选择淘汰的页面是最早进入内存的页面。
    - 实现方法：把调入内存的页面根据调入的先后顺序排成一个队列，需要换出页面时选择队头页面即可。队列的最大长度取决于系统为进程分配了多少个内存块。
    - Belady 异常：当为进程分配的物理块数增大时，缺页次数不减反增的异常现象。

- 最近最久未使用置换算法 (LRU)
    - 思路：每次淘汰的页面是最近最久未使用的页面。
    - 实现方法：赋予每个页面对应的页表项中，用访问字段记录该页面自上次被访问以来所经历的时间 t。当需要淘汰一个页面时，选择现有页面中 t 值最大的，即最近最久未使用的页面。
    - 技巧：若需要淘汰页面，可以逆向检查访问序列。假设某进程分配了 n 个内存块，则逆向找到第 n 个不同且在内存中的页号，该页号就是要淘汰的页面。

# 磁盘调度算法

- 先来先服务（FCFS）
- 最短寻找时间优先（SSTF）
- 扫描算法（SCAN，电梯算法）
    - 磁头单向移动，到端点后改变方向

# 系统调用

- 主要类型
    1. 进程控制
        - 创建进程
        - 终止进程
        - 等待进程

    2. 文件操作
        - 打开文件
        - 读写文件
        - 关闭文件

    3. 设备管理
        - 请求设备
        - 释放设备
        - 读写设备

    4. 内存管理
        - 申请内存
        - 释放内存

    5. 信息维护
        - 获取系统时间
        - 获取进程信息

- 工作流程
    1. 应用程序 
    2. 系统调用接口
    3. 用户态切换到核心态
    4. 执行系统服务
    5. 核心态切换回用户态
    6. 返回结果

# 银行家算法

1. 统计情况
    - 总资源
    - 已分配资源
    - 当前可用资源

2. 计算need矩阵（该进程需求-已分配）

3. 检查当前可用资源是否可以执行need矩阵中的内容。如果可以，则执行该进程并释放所有资源，重新统计与计算need矩阵

# 进程和线程

